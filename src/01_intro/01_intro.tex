\documentclass[../main.tex]{subfiles}

\begin{document}

\section{Introduction}%
\label{sec:introduction}

\subsection{Axioms}%
\label{sub:axioms}

The first step towards axiomatising the theory of Allen Interval Algebras is to define an
appropriate language. Usually, the theory is presented as consisting of 13 basic binary relations,
which are exhaustive and mutually exclusive, so for any two intervals, exactly one relation will
hold between them. It is worth noting though, that one of the relations is simply equality of
intervals and as such, we do not need it in our language.

\begin{defn}
  We define the language of Allen Interval Algebras as
  \begin{equation*}
    \laia = \left\{
      \before, \meets, \overlaps,     \starts,    \finishes,   \contained,
      \after,  \metby, \overlappedby, \startedby, \finishedby, \contains
    \right\}
  \end{equation*}
  where all of the above are binary relations.
\end{defn}

For two intervals $I$ and $J$, the intended meaning for the relations is then
\begin{itemize}
  \item $I \before J$ if $I$ starts and finishes fully before $J$ starts;
  \item $I \meets J$ if $I$ finishes exactly as $J$ starts;
  \item $I \overlaps J$ if I starts before $J$ starts and finishes during $J$;
  \item $I \starts J$ if $I$ is the initial segment of $J$;
  \item $I \finishes J$ if $I$ is the last segment of $J$;
  \item $I \contained J$ if $I$ happens entirely during $J$.
\end{itemize}
As for the relations with right-pointing arrows, we can think of them as duals to the left arrow
relations, so we simply swap $I$ and $J$ in the above explanations.

With this and our understanding of linear time in mind, we can derive some axioms for how the
different relations should interact.

\subsection{Models}%
\label{sub:models}

Now that we have our axioms, it's important to see whether or not they are consistent, which is done
by finding a model of $\taia$. Well, we can actually do one better than this, as given any linear
order, we can consider the set of non-zero intervals over said order and turn it into an Allen
Interval Algebra.

\begin{defn}
  Given a linear order $(P,\leq)$ we define its set of non-zero intervals as
  \begin{equation*}
    \inter{P} = \left\{(x_1,x_2) \in P^2 \ |\ x_1 < x_2 \right\}
  \end{equation*}
  where $x_1<x_2$ is shorthand for $x_1 \leq x_2 \land x_1 \neq x_2$.
\end{defn}

\begin{prop}
  Given a linear order $(P,\leq)$ and intervals $(x_1,x_2),(y_1,y_2) \in \inter{P}$ we define an
  interpretations of $\laia$ by
  \begin{itemize}
  \item $(x_1,x_2) \before (y_1,y_2)$ if $x_1<x_2<y_1<y_2$;
  \item $(x_1,x_2) \meets (y_1,y_2)$ if $x_1<x_2=y_1<y_2$;
  \item $(x_1,x_2) \overlaps (y_1,y_2)$ if $x_1<y_1<x_2<y_2$;
  \item $(x_1,x_2) \starts (y_1,y_2)$ if $x_1=y_1<x_2<y_2$;
  \item $(x_1,x_2) \finishes (y_1,y_2)$ if $y_1<x_1<x_2=y_2$;
  \item $(x_1,x_2) \contained (y_1,y_2)$ $y_1<x_1<x_2<y_2$;
  \item $(x_1,x_2) \overset{i}{\longleftarrow} (y_1,y_2)$ if and only if
    $(y_1,y_2) \overset{i}{\longrightarrow} (x_1,x_2)$ for $i \in \{<,m,o,s,f,d\}$.
  \end{itemize}
  This interpretations gives rise to a model of $\taia$.
\end{prop}

\begin{proof}
  % TODO Add proof
\end{proof}

\begin{cor}
  The theory $\taia$ of Allen Interval Algebras is satisfiable.
\end{cor}

We can do more than just map linear orders to Allen Interval Algebras though, this interval
construction actually turns out to be a functor from the category of linear orders and their
embeddings into the category of Allen Interval Algebras and their embeddings.

% TODO: Introduce relevant categories maybe?

\begin{prop}
  Given an embedding of linear orders $f : X \to Y$ we define an embedding of Allen Interval
  Algebras $\inter{f} : \inter{X} \to \inter{Y}$ by sending
  \begin{equation*}
    (x_1, x_2) \mapsto (f(x_1), f(x_2))
  \end{equation*}
  This then constitutes a functor.
\end{prop}
\begin{proof}
  First we must check that given $f$ as above, $\inter{f}$ really is an embedding of Allen Interval
  Algebras. This is simple to see though, as $f$ is an injective monotonic map, given some ordering
  of elements $x_1,x_2,y_1,y_2 \in X$, this same ordering will apply to $f(x_1),f(x_2),f(y_1)$ and
  $f(y_2)$ in $\inter{X}$.
  
  Next, to see this is a functor, we have two things to check:
  \begin{itemize}
    \item $\int$ sends identity maps to identity maps -- Consider $1_X : X \to X$, then $\inter{1_X}$
      will send $(x_1,x_2) \mapsto (1_X(x_1), 1_X(x_2)) = (x_1,x_2)$, which is the identity map
      on $\inter{X}$.
    \item $\int$ respects composition -- Fix some $f : X \to Y$ and $g : Y \to Z$ both embeddings of
      linear orders, then we see that
      \begin{align*}
        \inter{g \circ f}(x_1, x_2) &= (g \circ f(x_1), g \circ f(x_2))
                                = (g(f(x_1)), g(f(x_2))) \\
                                &= \inter{g}(f(x_1), f(x_2)) = \inter{g}\circ\inter{f}(x_1,x_2)
      \end{align*}
  \end{itemize}
\end{proof}

% TODO: Define functor from AIA to lin orders

% TODO: Show it's an adjunction -- just for fun

% TODO: Start considering finite AIAs

\end{document}
